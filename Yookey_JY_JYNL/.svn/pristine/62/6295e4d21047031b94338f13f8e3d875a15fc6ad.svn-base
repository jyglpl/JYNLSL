jQuery&&function(n){n.extend(n.fn,{uploadify:function(t){n(this).each(function(){var r,i,u,f,e;if(settings=n.extend({id:n(this).attr("id"),uploader:"uploadify.swf",script:"UploadHandler.ashx",expressInstall:null,folder:"",height:22,width:104,cancelImg:"cancel.png",wmode:"opaque",scriptAccess:"sameDomain",fileDataName:"Filedata",method:"POST",queueSizeLimit:999,simUploadLimit:1,queueID:!1,displayData:"percentage",onInit:function(){},onSelect:function(){},onQueueFull:function(){},onCheck:function(){},onCancel:function(){},onError:function(){},onProgress:function(){},onComplete:function(){},onAllComplete:function(){}},t),r=location.pathname,r=r.split("/"),r.pop(),r=r.join("/")+"/",i={},i.uploadifyID=settings.id,i.pagepath=r,settings.buttonImg&&(i.buttonImg=escape(settings.buttonImg)),settings.buttonText&&(i.buttonText=escape(settings.buttonText)),settings.rollover&&(i.rollover=!0),i.script=settings.script,i.folder=escape(settings.folder),settings.scriptData){u="";for(f in settings.scriptData)u+="&"+f+"="+settings.scriptData[f];i.scriptData=escape(u.substr(1))}i.width=settings.width;i.height=settings.height;i.wmode=settings.wmode;i.method=settings.method;i.queueSizeLimit=settings.queueSizeLimit;i.simUploadLimit=settings.simUploadLimit;settings.hideButton&&(i.hideButton=!0);settings.fileDesc&&(i.fileDesc=settings.fileDesc);settings.fileExt&&(i.fileExt=settings.fileExt);settings.multi&&(i.multi=!0);settings.auto&&(i.auto=!0);settings.sizeLimit&&(i.sizeLimit=settings.sizeLimit);settings.checkScript&&(i.checkScript=settings.checkScript);settings.fileDataName&&(i.fileDataName=settings.fileDataName);settings.queueID&&(i.queueID=settings.queueID);settings.onInit()!==!1&&(n(this).css("display","none"),n(this).after('<div id="'+n(this).attr("id")+'Uploader"><\/div>'),swfobject.embedSWF(settings.uploader,settings.id+"Uploader",settings.width,settings.height,"9.0.24",settings.expressInstall,i,{quality:"high",wmode:settings.wmode,allowScriptAccess:settings.scriptAccess}),settings.queueID==!1&&n("#"+n(this).attr("id")+"Uploader").after('<div id="'+n(this).attr("id")+'Queue" class="uploadifyQueue"><\/div>'));typeof settings.onOpen=="function"&&n(this).bind("uploadifyOpen",settings.onOpen);n(this).bind("uploadifySelect",{action:settings.onSelect,queueID:settings.queueID},function(t,i,r){var u,e,f;t.data.action(t,i,r)!==!1&&(u=Math.round(r.size/1024*100)*.01,e="KB",u>1e3&&(u=Math.round(u*.001*100)*.01,e="MB"),f=u.toString().split("."),u=f.length>1?f[0]+"."+f[1].substr(0,2):f[0],fileName=r.name.length>20?r.name.substr(0,20)+"...":r.name,queue="#"+n(this).attr("id")+"Queue",t.data.queueID&&(queue="#"+t.data.queueID),n(queue).append('<div id="'+n(this).attr("id")+i+'" class="uploadifyQueueItem">\t\t\t\t\t\t\t\t<div class="cancel">\t\t\t\t\t\t\t\t\t<a href="javascript:jQuery(\'#'+n(this).attr("id")+"').uploadifyCancel('"+i+'\')"><img src="'+settings.cancelImg+'" border="0" /><\/a>\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t<span class="fileName">'+fileName+" ("+u+e+')<\/span><span class="percentage"><\/span>\t\t\t\t\t\t\t\t<div class="uploadifyProgress">\t\t\t\t\t\t\t\t\t<div id="'+n(this).attr("id")+i+'ProgressBar" class="uploadifyProgressBar"><!--Progress Bar--><\/div>\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t<\/div>'))});typeof settings.onSelectOnce=="function"&&n(this).bind("uploadifySelectOnce",settings.onSelectOnce);n(this).bind("uploadifyQueueFull",{action:settings.onQueueFull},function(n,t){n.data.action(n,t)!==!1&&alert("The queue is full.  The max size is "+t+".")});n(this).bind("uploadifyCheckExist",{action:settings.onCheck},function(t,i,u,f,e){var o={},s,h;if(o=u,o.folder=r+f,e)for(s in u)h=s;n.post(i,o,function(r){var o,s;for(o in r)t.data.action(t,i,u,f,e)!==!1&&(s=confirm("Do you want to replace the file "+r[o]+"?"),s||document.getElementById(n(t.target).attr("id")+"Uploader").cancelFileUpload(o,!0,!0));e?document.getElementById(n(t.target).attr("id")+"Uploader").startFileUpload(h,!0):document.getElementById(n(t.target).attr("id")+"Uploader").startFileUpload(null,!0)},"json")});n(this).bind("uploadifyCancel",{action:settings.onCancel},function(t,i,r,u,f){if(t.data.action(t,i,r,u,f)!==!1){var e=f==!0?0:250;n("#"+n(this).attr("id")+i).fadeOut(e,function(){n(this).remove()})}});typeof settings.onClearQueue=="function"&&n(this).bind("uploadifyClearQueue",settings.onClearQueue);e=[];n(this).bind("uploadifyError",{action:settings.onError},function(t,i,r,u){if(t.data.action(t,i,r,u)!==!1){var f=[i,r,u];e.push(f);n("#"+n(this).attr("id")+i+" .percentage").text(" - "+u.type+" Error");n("#"+n(this).attr("id")+i).addClass("uploadifyError")}});n(this).bind("uploadifyProgress",{action:settings.onProgress,toDisplay:settings.displayData},function(t,i,r,u){t.data.action(t,i,r,u)!==!1&&(n("#"+n(this).attr("id")+i+"ProgressBar").css("width",u.percentage+"%"),t.data.toDisplay=="percentage"&&(displayData=" - "+u.percentage+"%"),t.data.toDisplay=="speed"&&(displayData=" - "+u.speed+"KB/s"),t.data.toDisplay==null&&(displayData=" "),n("#"+n(this).attr("id")+i+" .percentage").text(displayData))});n(this).bind("uploadifyComplete",{action:settings.onComplete},function(t,i,r,u,f){t.data.action(t,i,r,unescape(u),f)!==!1&&(n("#"+n(this).attr("id")+i+" .percentage").text(" - Completed"),n("#"+n(this).attr("id")+i).append("<input value='"+u+"' class='fujianid' type='hidden' />"))});typeof settings.onAllComplete=="function"&&n(this).bind("uploadifyAllComplete",{action:settings.onAllComplete},function(n,t){n.data.action(n,t)!==!1&&(e=[])})})},uploadifySettings:function(t,i,r){var u=!1,e,o,f,s;if(n(this).each(function(){var f,e,o;if(t=="scriptData"&&i!=null){f=r?i:n.extend(settings.scriptData,i);e="";for(o in f)e+="&"+o+"="+escape(f[o]);i=e.substr(1)}u=document.getElementById(n(this).attr("id")+"Uploader").updateSettings(t,i)}),i==null){if(t=="scriptData"){for(e=unescape(u).split("&"),o={},f=0;f<e.length;f++)s=e[f].split("="),o[s[0]]=s[1];u=o}return u}},uploadifyUpload:function(t){n(this).each(function(){document.getElementById(n(this).attr("id")+"Uploader").startFileUpload(t,!1)})},uploadifyCancel:function(t){n("#"+n(this).attr("id")+t).fadeOut(250,function(){n(this).remove()})},uploadifyClearQueue:function(){n(this).each(function(){document.getElementById(n(this).attr("id")+"Uploader").clearFileUploadQueue(!1)})}})}(jQuery);
/*
//# sourceMappingURL=jquery.uploadify.v2.1.0.min.js.map
*/